NAMESPACE:
	echo "# Generated by roxygen2: do not edit by hand" > NAMESPACE

.PHONY: clean
clean:
	find ./ -name "*.so" | xargs rm
	find ./ -name "*.o" | xargs rm
	find ./ -name "RcppExports.*" | xargs rm

check: NAMESPACE
	Rscript -e "results <- devtools::check(); stopifnot(length(results[['errors']]) == 0)"

install: NAMESPACE
	Rscript -e "pkgbuild::compile_dll(); devtools::document(); devtools::install()"

html: NAMESPACE
	Rscript -e "pkgbuild::compile_dll(); devtools::document(); pkgdown::build_site()"
